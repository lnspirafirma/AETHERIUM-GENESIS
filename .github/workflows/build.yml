name: Build and Test Aetherium Genesis

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  build_and_test:
    runs-on: ubuntu-latest
    steps:
      # 1. âš™ï¸ Checkout Codebase
      # à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸ actions/checkout@v4 à¹€à¸›à¹‡à¸™ Full Commit SHA à¸‚à¸­à¸‡ v4
    - name: âš™ï¸ Checkout Codebase
      uses: actions/checkout@0f2a7bc72297127b3d39589d816172605f6b8b7e # [Commit SHA à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡ actions/checkout@v4]
    
      # 2. ğŸ Set up Python 3.11
      # à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸ actions/setup-python@v6 à¹€à¸›à¹‡à¸™ Full Commit SHA à¸‚à¸­à¸‡ v6
    - name: ğŸ Set up Python 3.11
      uses: actions/setup-python@916a086801933cc4852f864e493390c58a8a4f15 # [Commit SHA à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡ actions/setup-python@v6]
      with:
        python-version: "3.11"
        
    - name: ğŸ“¦ Install Dependencies
      run: pip install -r requirements.txt
    
    - name: ğŸ§ª Run Unit Tests (GEP Audit Check)
      run: |
        # ğŸ¯ à¹à¸à¹‰à¹„à¸‚ Structural Conflict: à¸à¸³à¸«à¸™à¸” PYTHONPATH à¹ƒà¸«à¹‰à¹€à¸—à¹ˆà¸²à¸à¸±à¸š Root Directory
        PYTHONPATH=. pytest --cov=.